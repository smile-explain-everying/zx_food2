{"version":3,"sources":["webpack:///static/js/3.6c2076f89bc30c97bbde.js","webpack:///./src/components/common/Inventoryselect.vue?d291","webpack:///./src/components/page/NewInventory.vue?aeff","webpack:///./src/components/common/Inventoryselect.vue","webpack:///./src/components/page/NewInventory.vue","webpack:///src/components/common/Inventoryselect.vue","webpack:///./src/components/common/Inventoryselect.vue?24b7","webpack:///src/components/page/NewInventory.vue","webpack:///./src/components/page/NewInventory.vue?ff2e","webpack:///./src/components/common/Inventoryselect.vue?74cd","webpack:///./src/components/page/NewInventory.vue?6341"],"names":["webpackJsonp","a0Z0","module","exports","__webpack_require__","content","i","locals","aWlS","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","f5eD","__webpack_exports__","injectStyle","ssrContext","NewInventory_injectStyle","Object","defineProperty","value","API","Inventoryselect","data","formLabelWidth","qname","num","zjdata","rules1","type","required","message","trigger","min","max","props","methods","atQname","this","atNum","emitData","$emit","render","_vm","_h","$createElement","_c","_self","attrs","rules","staticClass","prop","label","label-width","clearable","placeholder","on","change","model","callback","$$v","expression","_l","item","key","index","goodsName","id","_v","auto-complete","blur","staticRenderFns","esExports","common_Inventoryselect","normalizeComponent","__vue_styles__","Component","components_common_Inventoryselect","api","NewInventory","inventoryData","cur_page","select_word","listNum","newInventorySwitch","finishedProductSwitch","formNewInventory","name","unit","optionsAll","optionsMaterial","formFinishedProduct","pnum","material","materialQuantity","beforeMount","getList","getListAll","getMaterialAll","handleCurrentChange","val","self","params","param","pagesNum","post","then","res","goodsStocks","newInventory","finishedProduct","submitNewInventory","formName","_this","$refs","validate","valid","materialUnit","postJson","code","$alert","$notify","title","submitFormFinishedProduct","_this2","makeQuantity","materialStocks","materialStock","delMaterial","console","log","indexOf","splice","addMaterial","computed","indexData","tableData","filter","d","components","vIselect","NewInventory_render","click","visible","width","update:visible","$event","ref","$set","slot","materialName","v","staticStyle","border","scopedSlots","_u","fn","scope","size","handleEdit","row","materialPrice","layout","total","current-change","NewInventory_staticRenderFns","NewInventory_esExports","page_NewInventory","NewInventory_normalizeComponent","NewInventory___vue_styles__","NewInventory_Component","n1Fe","xhYW"],"mappings":"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","file":"static/js/3.6c2076f89bc30c97bbde.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ \"a0Z0\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"n1Fe\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"07ecc8d5\", content, true);\n\n/***/ }),\n\n/***/ \"aWlS\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.index-warp h2[data-v-6b5b34d4] {\\n  color: red;\\n}\\n.index-warp .title[data-v-6b5b34d4] {\\n  text-align: left;\\n  font-size: 20px;\\n}\\n.index-warp .menu[data-v-6b5b34d4] {\\n  float: left;\\n  margin: 10px 0 0 40px;\\n}\\n.index-warp .pagination[data-v-6b5b34d4] {\\n  text-align: right;\\n  margin-top: 20px;\\n}\\n.index-warp .InventoryTable[data-v-6b5b34d4] {\\n  margin-top: 100px;\\n}\\n.index-warp .ul-l[data-v-6b5b34d4], .index-warp .pname[data-v-6b5b34d4] {\\n  display: inline-block;\\n  text-align: left;\\n}\\n.index-warp .ul-r[data-v-6b5b34d4], .index-warp .pnum[data-v-6b5b34d4] {\\n  display: inline-block;\\n  text-align: right;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/food_master/src/components/page/NewInventory.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,WAAW;CACZ;AACD;EACE,iBAAiB;EACjB,gBAAgB;CACjB;AACD;EACE,YAAY;EACZ,sBAAsB;CACvB;AACD;EACE,kBAAkB;EAClB,iBAAiB;CAClB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,sBAAsB;EACtB,iBAAiB;CAClB;AACD;EACE,sBAAsB;EACtB,kBAAkB;CACnB\",\"file\":\"NewInventory.vue\",\"sourcesContent\":[\"\\n.index-warp h2[data-v-6b5b34d4] {\\n  color: red;\\n}\\n.index-warp .title[data-v-6b5b34d4] {\\n  text-align: left;\\n  font-size: 20px;\\n}\\n.index-warp .menu[data-v-6b5b34d4] {\\n  float: left;\\n  margin: 10px 0 0 40px;\\n}\\n.index-warp .pagination[data-v-6b5b34d4] {\\n  text-align: right;\\n  margin-top: 20px;\\n}\\n.index-warp .InventoryTable[data-v-6b5b34d4] {\\n  margin-top: 100px;\\n}\\n.index-warp .ul-l[data-v-6b5b34d4], .index-warp .pname[data-v-6b5b34d4] {\\n  display: inline-block;\\n  text-align: left;\\n}\\n.index-warp .ul-r[data-v-6b5b34d4], .index-warp .pnum[data-v-6b5b34d4] {\\n  display: inline-block;\\n  text-align: right;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"f5eD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/api/API.js + 2 modules\nvar API = __webpack_require__(\"uWBr\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Inventoryselect.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Inventoryselect = ({\n    data: function data() {\n        return {\n            formLabelWidth: '120px',\n            qname: null,\n            num: '',\n            zjdata: {\n                qname: null,\n                num: null\n            },\n            rules1: {\n                qname: [{ type: 'number', required: true, message: '请选择产品', trigger: 'change' }],\n                num: [{ required: true, message: '请输入原料数量', trigger: 'blur' }, { min: 1, max: 10, message: '长度在 1到 10 个字符', trigger: 'blur' }]\n            }\n        };\n    },\n\n    props: ['optionsAll'],\n    methods: {\n        atQname: function atQname() {\n            zjdata.qname = this.qname;\n        },\n        atNum: function atNum() {\n            zjdata.num = this.num;\n        },\n        emitData: function emitData() {\n            this.$emit('at-qname', zjdata);\n        }\n    }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c5563e76\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Inventoryselect.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"rules\":_vm.rules1}},[_c('el-form-item',{staticClass:\"qname\",attrs:{\"prop\":\"qname\",\"label\":\"原料\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择原料\"},on:{\"change\":_vm.atQname},model:{value:(_vm.qname),callback:function ($$v) {_vm.qname=$$v},expression:\"qname\"}},_vm._l((_vm.optionsAll),function(item){return _c('el-option',{key:item.index,attrs:{\"label\":item.goodsName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"num\",attrs:{\"prop\":\"num\",\"label\":\"数量\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"clearable\":\"\"},on:{\"blur\":_vm.atNum},model:{value:(_vm.num),callback:function ($$v) {_vm.num=$$v},expression:\"num\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_Inventoryselect = (esExports);\n// CONCATENATED MODULE: ./src/components/common/Inventoryselect.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"a0Z0\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c5563e76\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  Inventoryselect,\n  common_Inventoryselect,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Inventoryselect = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/page/NewInventory.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar api = new API[\"a\" /* default */]();\n/* harmony default export */ var NewInventory = ({\n    data: function data() {\n        return {\n            inventoryData: [],\n            cur_page: 1,\n            select_word: '',\n            listNum: null,\n            newInventorySwitch: false,\n            finishedProductSwitch: false,\n            formNewInventory: {\n                name: '',\n                unit: ''\n            },\n            optionsAll: [],\n            optionsMaterial: [],\n            formFinishedProduct: {\n                name: '',\n                pnum: '',\n                material: [{\n                    id: '',\n                    materialQuantity: ''\n                }]\n            },\n            formLabelWidth: '120px',\n            rules1: {\n                name: [{ required: true, message: '请输入产品名称', trigger: 'blur' }, { min: 2, max: 10, message: '长度在 2到 8 个字符', trigger: 'blur' }],\n                unit: [{ required: true, message: '请输入产品单位', trigger: 'blur' }, { min: 1, max: 4, message: '长度在 1 到 4 个字符', trigger: 'blur' }]\n            }\n        };\n    },\n\n    beforeMount: function beforeMount() {\n        this.getList();\n        this.getListAll();\n        this.getMaterialAll();\n    },\n    methods: {\n        handleCurrentChange: function handleCurrentChange(val) {\n            this.cur_page = val;\n            var self = this;\n            var params = {\n                api: \"/product/goods/query\",\n                param: {\n                    pagesNum: self.cur_page\n                }\n            };\n            api.post(params).then(function (res) {\n                self.inventoryData = res.data.data.goodsStocks;\n            });\n        },\n\n        newInventory: function newInventory() {\n            this.newInventorySwitch = true;\n            this.formNewInventory.name = this.formNewInventory.unit = '';\n        },\n        finishedProduct: function finishedProduct() {\n            this.finishedProductSwitch = true;\n        },\n        submitNewInventory: function submitNewInventory(formName) {\n            var _this = this;\n\n            this.$refs[formName].validate(function (valid) {\n                if (valid) {\n                    var self = _this;\n                    var params = {\n                        api: \"/product/goods/save\",\n                        param: {\n                            goodsName: self.formNewInventory.name,\n                            materialUnit: self.formNewInventory.unit\n                        }\n                    };\n                    api.postJson(params).then(function (res) {\n                        if (res.data.code !== '1') {\n                            self.$alert(res.data.message, '信息提示');\n                        } else {\n                            self.$notify({\n                                title: '新增成品成功',\n                                message: res.data.message,\n                                type: 'success'\n                            });\n                            self.newInventorySwitch = false;\n                            self.getList();\n                        }\n                    });\n                } else {\n                    return false;\n                }\n            });\n        },\n        submitFormFinishedProduct: function submitFormFinishedProduct(formName) {\n            var _this2 = this;\n\n            this.$refs[formName].validate(function (valid) {\n                if (valid) {\n                    var self = _this2;\n                    var params = {\n                        api: \"/product/goods/make\",\n                        param: {\n                            id: self.formFinishedProduct.name,\n                            makeQuantity: self.formFinishedProduct.pnum,\n                            materialStocks: self.formFinishedProduct.material\n                        }\n                    };\n                    api.postJson(params).then(function (res) {\n                        if (res.data.code !== '1') {\n                            self.$alert(res.data.message, '信息提示');\n                        } else {\n                            self.$notify({\n                                title: '成品添加成功',\n                                message: res.data.message,\n                                type: 'success'\n                            });\n                            self.finishedProductSwitch = false;\n                            self.getList();\n                        }\n                    });\n                } else {\n                    return false;\n                }\n            });\n        },\n        getList: function getList() {\n            var self = this;\n            var params = {\n                api: \"/product/goods/query\",\n                param: {\n                    pagesNum: self.cur_page\n                }\n            };\n            api.post(params).then(function (res) {\n                if (res.data.code !== '1') {\n                    self.$alert(res.data.message, '信息提示');\n                } else {\n                    self.inventoryData = res.data.data.goodsStocks;\n                    self.listNum = res.data.data.listNum;\n                }\n            });\n        },\n        getListAll: function getListAll() {\n            var self = this;\n            var params = {\n                api: \"/product/goods/queryAll\"\n            };\n            api.post(params).then(function (res) {\n                if (res.data.code !== '1') {\n                    self.$alert(res.data.message, '信息提示');\n                } else {\n                    self.optionsAll = res.data.data.goodsStocks;\n                }\n            });\n        },\n        getMaterialAll: function getMaterialAll() {\n            var self = this;\n            var params = {\n                api: \"/product/material/queryAll\"\n            };\n            api.post(params).then(function (res) {\n                if (res.data.code !== '1') {\n                    self.$alert(res.data.message, '信息提示');\n                } else {\n                    self.optionsMaterial = res.data.data.materialStock;\n                }\n            });\n        },\n\n        delMaterial: function delMaterial(item) {\n            console.log(item, this.formFinishedProduct.material);\n            var index = this.formFinishedProduct.material.indexOf(item);\n            console.log(index);\n            if (index !== -1) {\n                this.formFinishedProduct.material.splice(index, 1);\n            }\n        },\n        addMaterial: function addMaterial() {\n            this.formFinishedProduct.material.push({\n                id: '',\n                materialQuantity: ''\n            });\n        }\n    },\n    computed: {\n        indexData: function indexData() {\n            var self = this;\n            return self.tableData.filter(function (d) {\n                if (d.goodsName.indexOf(self.select_word) > -1) {\n                    return d;\n                }\n            });\n        }\n    },\n    components: {\n        vIselect: components_common_Inventoryselect\n    }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b5b34d4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/NewInventory.vue\nvar NewInventory_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index-warp\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"成品库存\")]),_vm._v(\" \"),_c('div',{staticClass:\"menu\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.newInventory}},[_vm._v(\"添加成品\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.finishedProduct}},[_vm._v(\"制作成品\")])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加成品\",\"visible\":_vm.newInventorySwitch,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.newInventorySwitch=$event}}},[_c('el-form',{ref:\"formNewInventory\",attrs:{\"model\":_vm.formNewInventory,\"rules\":_vm.rules1}},[_c('el-form-item',{attrs:{\"prop\":\"name\",\"label\":\"成品名称\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.formNewInventory.name),callback:function ($$v) {_vm.$set(_vm.formNewInventory, \"name\", $$v)},expression:\"formNewInventory.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"unit\",\"label\":\"单位\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.formNewInventory.unit),callback:function ($$v) {_vm.$set(_vm.formNewInventory, \"unit\", $$v)},expression:\"formNewInventory.unit\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.newInventorySwitch = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitNewInventory('formNewInventory')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"成品制作页面\",\"visible\":_vm.finishedProductSwitch,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.finishedProductSwitch=$event}}},[_c('el-form',{ref:\"formFinishedProduct\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.formFinishedProduct}},[_c('el-form-item',{staticClass:\"pname\",attrs:{\"prop\":\"name\",\"label\":\"产品名称\",\"label-width\":_vm.formLabelWidth,\"rules\":[\n                    {type:'number',required: true, message: '请选择产品', trigger: 'change' }\n                ]}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择产品\"},model:{value:(_vm.formFinishedProduct.name),callback:function ($$v) {_vm.$set(_vm.formFinishedProduct, \"name\", $$v)},expression:\"formFinishedProduct.name\"}},_vm._l((_vm.optionsAll),function(item){return _c('el-option',{key:item.index,attrs:{\"label\":item.goodsName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"pnum\",attrs:{\"prop\":\"pnum\",\"label\":\"数量\",\"label-width\":_vm.formLabelWidth,\"rules\":[\n                    { required: true, message: '请输入产品数量', trigger: 'blur' },\n                    { min: 1, max: 10, message: '长度在 1到 10 个字符', trigger: 'blur' }\n                ]}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.formFinishedProduct.pnum),callback:function ($$v) {_vm.$set(_vm.formFinishedProduct, \"pnum\", $$v)},expression:\"formFinishedProduct.pnum\"}})],1),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"ul-l\"},_vm._l((_vm.formFinishedProduct.material),function(name,index){return _c('el-form-item',{key:name.key,staticClass:\"material\",attrs:{\"label\":\"原料名称\",\"label-width\":_vm.formLabelWidth,\"prop\":'material.' + index + '.id',\"rules\":{type:'number',required: true, message: '请选择原料', trigger: 'change'},\"width\":\"50%\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择产品\"},model:{value:(name.id),callback:function ($$v) {_vm.$set(name, \"id\", $$v)},expression:\"name.id\"}},_vm._l((_vm.optionsMaterial),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.materialName,\"value\":item.id}})}))],1)})),_vm._v(\" \"),_c('div',{staticClass:\"ul-r\"},_vm._l((_vm.formFinishedProduct.material),function(num,index){return _c('el-form-item',{key:num.key,staticClass:\"materialNum\",attrs:{\"label\":\"原料数量\",\"label-width\":_vm.formLabelWidth,\"prop\":'material.' + index + '.materialQuantity',\"rules\":[\n                        { required: true, message: '请输入原料数量', trigger: 'blur' },\n                        { min: 1, max: 10, message: '长度在 1到 10 个字符', trigger: 'blur' }]}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"clearable\":\"\"},model:{value:(num.materialQuantity),callback:function ($$v) {_vm.$set(num, \"materialQuantity\", $$v)},expression:\"num.materialQuantity\"}})],1)})),_vm._v(\" \"),_c('div',{staticClass:\"ul-r\"},_vm._l((_vm.formFinishedProduct.material),function(v,index){return _c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.delMaterial(v)}}},[_vm._v(\"删除原料\")])],1)}))])],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addMaterial}},[_vm._v(\"添加原料\")]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.finishedProductSwitch = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitFormFinishedProduct('formFinishedProduct')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"indexTable\",staticClass:\"InventoryTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.inventoryData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goodsName\",\"label\":\"成品名称\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goodsQuantity\",\"label\":\"库存量\",\"width\":\"300\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"materialUnit\",\"label\":\"单位\",\"width\":\"260\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"materialPrice\",\"label\":\"单价\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleEdit(scope.row.id,scope.row.materialName,scope.row.materialQuantity,scope.row.materialPrice)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.listNum},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar NewInventory_staticRenderFns = []\nvar NewInventory_esExports = { render: NewInventory_render, staticRenderFns: NewInventory_staticRenderFns }\n/* harmony default export */ var page_NewInventory = (NewInventory_esExports);\n// CONCATENATED MODULE: ./src/components/page/NewInventory.vue\nfunction NewInventory_injectStyle (ssrContext) {\n  __webpack_require__(\"xhYW\")\n}\nvar NewInventory_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar NewInventory___vue_template_functional__ = false\n/* styles */\nvar NewInventory___vue_styles__ = NewInventory_injectStyle\n/* scopeId */\nvar NewInventory___vue_scopeId__ = \"data-v-6b5b34d4\"\n/* moduleIdentifier (server only) */\nvar NewInventory___vue_module_identifier__ = null\nvar NewInventory_Component = NewInventory_normalizeComponent(\n  NewInventory,\n  page_NewInventory,\n  NewInventory___vue_template_functional__,\n  NewInventory___vue_styles__,\n  NewInventory___vue_scopeId__,\n  NewInventory___vue_module_identifier__\n)\n\n/* harmony default export */ var components_page_NewInventory = __webpack_exports__[\"default\"] = (NewInventory_Component.exports);\n\n\n/***/ }),\n\n/***/ \"n1Fe\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.qname[data-v-c5563e76], .num[data-v-c5563e76] {\\n  text-align: left;\\n  display: inline-block;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/food_master/src/components/common/Inventoryselect.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,iBAAiB;EACjB,sBAAsB;CACvB\",\"file\":\"Inventoryselect.vue\",\"sourcesContent\":[\"\\n.qname[data-v-c5563e76], .num[data-v-c5563e76] {\\n  text-align: left;\\n  display: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"xhYW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"aWlS\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"fd3b17f6\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.6c2076f89bc30c97bbde.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c5563e76\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Inventoryselect.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"07ecc8d5\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c5563e76\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/common/Inventoryselect.vue\n// module id = a0Z0\n// module chunks = 3","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.index-warp h2[data-v-6b5b34d4] {\\n  color: red;\\n}\\n.index-warp .title[data-v-6b5b34d4] {\\n  text-align: left;\\n  font-size: 20px;\\n}\\n.index-warp .menu[data-v-6b5b34d4] {\\n  float: left;\\n  margin: 10px 0 0 40px;\\n}\\n.index-warp .pagination[data-v-6b5b34d4] {\\n  text-align: right;\\n  margin-top: 20px;\\n}\\n.index-warp .InventoryTable[data-v-6b5b34d4] {\\n  margin-top: 100px;\\n}\\n.index-warp .ul-l[data-v-6b5b34d4], .index-warp .pname[data-v-6b5b34d4] {\\n  display: inline-block;\\n  text-align: left;\\n}\\n.index-warp .ul-r[data-v-6b5b34d4], .index-warp .pnum[data-v-6b5b34d4] {\\n  display: inline-block;\\n  text-align: right;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/food_master/src/components/page/NewInventory.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,WAAW;CACZ;AACD;EACE,iBAAiB;EACjB,gBAAgB;CACjB;AACD;EACE,YAAY;EACZ,sBAAsB;CACvB;AACD;EACE,kBAAkB;EAClB,iBAAiB;CAClB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,sBAAsB;EACtB,iBAAiB;CAClB;AACD;EACE,sBAAsB;EACtB,kBAAkB;CACnB\",\"file\":\"NewInventory.vue\",\"sourcesContent\":[\"\\n.index-warp h2[data-v-6b5b34d4] {\\n  color: red;\\n}\\n.index-warp .title[data-v-6b5b34d4] {\\n  text-align: left;\\n  font-size: 20px;\\n}\\n.index-warp .menu[data-v-6b5b34d4] {\\n  float: left;\\n  margin: 10px 0 0 40px;\\n}\\n.index-warp .pagination[data-v-6b5b34d4] {\\n  text-align: right;\\n  margin-top: 20px;\\n}\\n.index-warp .InventoryTable[data-v-6b5b34d4] {\\n  margin-top: 100px;\\n}\\n.index-warp .ul-l[data-v-6b5b34d4], .index-warp .pname[data-v-6b5b34d4] {\\n  display: inline-block;\\n  text-align: left;\\n}\\n.index-warp .ul-r[data-v-6b5b34d4], .index-warp .pnum[data-v-6b5b34d4] {\\n  display: inline-block;\\n  text-align: right;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6b5b34d4\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/page/NewInventory.vue\n// module id = aWlS\n// module chunks = 3","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c5563e76\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Inventoryselect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Inventoryselect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c5563e76\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Inventoryselect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c5563e76\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/Inventoryselect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b5b34d4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NewInventory.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewInventory.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b5b34d4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./NewInventory.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6b5b34d4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/NewInventory.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div :rules=\"rules1\">\r\n        <el-form-item  prop=\"qname\" label=\"原料\" :label-width=\"formLabelWidth\" class=\"qname\">\r\n            <el-select v-model=\"qname\" clearable placeholder=\"请选择原料\"  @change=\"atQname\" >\r\n                <el-option\r\n                  v-for=\"item in optionsAll\"\r\n                  :key=\"item.index\"\r\n                  :label=\"item.goodsName\"\r\n                  :value=\"item.id\">\r\n                </el-option>\r\n            </el-select>\r\n        </el-form-item> \r\n        <el-form-item  prop=\"num\" label=\"数量\" :label-width=\"formLabelWidth\" class=\"num\">\r\n            <el-input v-model=\"num\" auto-complete=\"off\" clearable @blur=\"atNum\"></el-input>\r\n        </el-form-item>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            formLabelWidth: '120px',\r\n            qname:null,\r\n            num:'',\r\n            zjdata:{\r\n                qname:null,\r\n                num:null\r\n            },\r\n            rules1:{ \r\n                qname:[\r\n                    {type:'number',required: true, message: '请选择产品', trigger: 'change' }\r\n                ],\r\n                num:[\r\n                    { required: true, message: '请输入原料数量', trigger: 'blur' },\r\n                    { min: 1, max: 10, message: '长度在 1到 10 个字符', trigger: 'blur' }\r\n                ],\r\n            },\r\n        }\r\n    },\r\n    props:['optionsAll'],\r\n    methods:{\r\n        atQname:function(){\r\n            zjdata.qname = this.qname;\r\n        },\r\n        atNum:function(){\r\n            zjdata.num = this.num;\r\n        },\r\n        emitData:function(){\r\n            this.$emit('at-qname',zjdata);\r\n        },\r\n    },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped=\"\">\r\n    .qname,.num{\r\n         text-align: left;\r\n         display: inline-block;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/common/Inventoryselect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"rules\":_vm.rules1}},[_c('el-form-item',{staticClass:\"qname\",attrs:{\"prop\":\"qname\",\"label\":\"原料\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择原料\"},on:{\"change\":_vm.atQname},model:{value:(_vm.qname),callback:function ($$v) {_vm.qname=$$v},expression:\"qname\"}},_vm._l((_vm.optionsAll),function(item){return _c('el-option',{key:item.index,attrs:{\"label\":item.goodsName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"num\",attrs:{\"prop\":\"num\",\"label\":\"数量\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"clearable\":\"\"},on:{\"blur\":_vm.atNum},model:{value:(_vm.num),callback:function ($$v) {_vm.num=$$v},expression:\"num\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c5563e76\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Inventoryselect.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div class=\"index-warp\">\r\n\t\t<p class=\"title\">成品库存</p>\r\n        <div class=\"menu\">\r\n            <el-button type=\"primary\" @click=\"newInventory\" >添加成品</el-button>\r\n            <el-button type=\"primary\" @click=\"finishedProduct\">制作成品</el-button>\r\n        </div>\r\n        <el-dialog title=\"添加成品\" :visible.sync=\"newInventorySwitch\" width=\"30%\">\r\n            <el-form :model=\"formNewInventory\"  :rules=\"rules1\"  ref=\"formNewInventory\" >\r\n                <el-form-item prop=\"name\" label=\"成品名称\" :label-width=\"formLabelWidth\">\r\n                  <el-input v-model=\"formNewInventory.name\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"unit\" label=\"单位\" :label-width=\"formLabelWidth\">\r\n                  <el-input v-model=\"formNewInventory.unit\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"newInventorySwitch = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitNewInventory('formNewInventory')\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n        <el-dialog title=\"成品制作页面\" :visible.sync=\"finishedProductSwitch\" width=\"40%\">\r\n            <el-form  :model=\"formFinishedProduct\"  ref=\"formFinishedProduct\" class=\"demo-form-inline\">\r\n                <el-form-item  prop=\"name\" label=\"产品名称\" :label-width=\"formLabelWidth\" class=\"pname\" :rules=\"[\r\n                    {type:'number',required: true, message: '请选择产品', trigger: 'change' }\r\n                ]\">\r\n                    <el-select v-model=\"formFinishedProduct.name\" clearable placeholder=\"请选择产品\" class=\"\">\r\n                        <el-option\r\n                            v-for=\"item in optionsAll\"\r\n                            :key=\"item.index\"\r\n                            :label=\"item.goodsName\"\r\n                            :value=\"item.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item  prop=\"pnum\" label=\"数量\" :label-width=\"formLabelWidth\" class=\"pnum\" :rules=\"[\r\n                    { required: true, message: '请输入产品数量', trigger: 'blur' },\r\n                    { min: 1, max: 10, message: '长度在 1到 10 个字符', trigger: 'blur' }\r\n                ]\">\r\n                     <el-input v-model=\"formFinishedProduct.pnum\" auto-complete=\"off\" clearable></el-input>\r\n                </el-form-item>\r\n                <div>\r\n                    <div class=\"ul-l\">\r\n                        <el-form-item v-for=\"(name, index) in formFinishedProduct.material\"\r\n                        label=\"原料名称\" :label-width=\"formLabelWidth\"\r\n                        :key=\"name.key\"\r\n                        :prop=\"'material.' + index + '.id'\"\r\n                        :rules=\"{type:'number',required: true, message: '请选择原料', trigger: 'change'}\" class=\"material\" width=\"50%\">\r\n                        <el-select v-model=\"name.id\" clearable placeholder=\"请选择产品\" class=\"\">\r\n                           <el-option\r\n                             v-for=\"item in optionsMaterial\"\r\n                             :key=\"item.value\"\r\n                             :label=\"item.materialName\"\r\n                             :value=\"item.id\">\r\n                           </el-option>\r\n                        </el-select>\r\n                </el-form-item>\r\n                    </div>\r\n                    <div class=\"ul-r\">\r\n                         <el-form-item v-for=\"(num, index) in formFinishedProduct.material\"\r\n                         label=\"原料数量\" :label-width=\"formLabelWidth\"\r\n                        :key=\"num.key\"\r\n                        :prop=\"'material.' + index + '.materialQuantity'\"\r\n                        :rules=\"[\r\n                        { required: true, message: '请输入原料数量', trigger: 'blur' },\r\n                        { min: 1, max: 10, message: '长度在 1到 10 个字符', trigger: 'blur' }]\" class=\"materialNum\">\r\n                        <el-input v-model=\"num.materialQuantity\" auto-complete=\"off\" clearable></el-input>\r\n                </el-form-item>\r\n                    </div>\r\n               <div class=\"ul-r\">\r\n                    <el-form-item  v-for=\"(v, index) in formFinishedProduct.material\">\r\n                        <el-button type=\"danger\" @click=\"delMaterial(v)\">删除原料</el-button>\r\n                    </el-form-item>\r\n               </div>\r\n                </div>\r\n               \r\n            </el-form>\r\n           <el-button type=\"primary\" @click=\"addMaterial\">添加原料</el-button>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"finishedProductSwitch = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submitFormFinishedProduct('formFinishedProduct')\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n        <!-- <el-form-item label=\"姓名选择\" prop=\"typeId\">\r\n            <el-select v-model=\"formFinishedProduct.typeId\" placeholder=\"请选择\">\r\n                <el-option v-for=\"item in items\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n            </el-select>\r\n        </el-form-item> -->\r\n\r\n\t\t<el-table :data=\"inventoryData\" border style=\"width: 100%\" ref=\"indexTable\" class=\"InventoryTable\">\r\n            <el-table-column type=\"index\" label=\"序号\"  width=\"250\">\r\n            </el-table-column>\r\n\t\t\t<el-table-column prop=\"goodsName\" label=\"成品名称\"  width=\"250\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"goodsQuantity\" label=\"库存量\"  width=\"300\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"materialUnit\" label=\"单位\" width=\"260\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"materialPrice\" label=\"单价\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n                <template scope=\"scope\">\r\n                    <el-button size=\"small\"\r\n                            @click=\"handleEdit(scope.row.id,scope.row.materialName,scope.row.materialQuantity,scope.row.materialPrice)\">编辑</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <div class=\"pagination\">\r\n            <el-pagination   @current-change =\"handleCurrentChange\"\r\n                   layout=\"prev, pager, next\"\r\n                   :total=\"listNum\">\r\n           </el-pagination>\r\n        </div>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport API from '../../api/API'\r\nimport vIselect from '../common/Inventoryselect.vue'\r\nconst api = new API();\r\nexport default{\r\n  \tdata() {\r\n        return {\r\n        \tinventoryData: [],\r\n            cur_page: 1,\r\n            select_word:'',\r\n            listNum:null,\r\n            newInventorySwitch:false,\r\n            finishedProductSwitch:false,\r\n            formNewInventory:{\r\n                name: '',\r\n                unit: '',\r\n            },\r\n            optionsAll:[],\r\n            optionsMaterial:[],\r\n            formFinishedProduct:{\r\n                name:'',\r\n                pnum:'',\r\n                material: [{\r\n                    id: '',\r\n                    materialQuantity:'',\r\n                }],\r\n            },\r\n            formLabelWidth: '120px',\r\n            rules1:{\r\n                name:[\r\n                    { required: true, message: '请输入产品名称', trigger: 'blur' },\r\n                    { min: 2, max: 10, message: '长度在 2到 8 个字符', trigger: 'blur' }\r\n                ],\r\n                unit:[\r\n                    { required: true, message: '请输入产品单位', trigger: 'blur' },\r\n                    { min: 1, max: 4, message: '长度在 1 到 4 个字符', trigger: 'blur' }\r\n                ],\r\n            },\r\n        }\r\n    },\r\n \tbeforeMount:function(){\r\n        this.getList();\r\n        this.getListAll();\r\n        this.getMaterialAll();\r\n    },\r\n    methods:{\r\n        handleCurrentChange(val){\r\n            this.cur_page = val;\r\n            let self = this;\r\n            let params = {\r\n            api:\"/product/goods/query\" ,\r\n                param:{\r\n                    pagesNum:self.cur_page\r\n                }\r\n            }\r\n            api.post(params).then(function(res){\r\n               self.inventoryData = res.data.data.goodsStocks;\r\n            })\r\n        },\r\n        newInventory:function(){\r\n            this.newInventorySwitch= true;\r\n            this.formNewInventory.name = this.formNewInventory.unit = '';\r\n        },\r\n        finishedProduct:function(){\r\n            this.finishedProductSwitch = true;\r\n\r\n        },\r\n        submitNewInventory:function(formName){\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    let self = this;\r\n                    let params = {\r\n                        api:\"/product/goods/save\",\r\n                        param:{\r\n                            goodsName:self.formNewInventory.name,\r\n                            materialUnit:self.formNewInventory.unit\r\n                        }\r\n                    };\r\n                    api.postJson(params).then(function(res){\r\n                        if(res.data.code!=='1'){\r\n                             self.$alert(res.data.message, '信息提示');\r\n                        }else{\r\n                            self.$notify({\r\n                                title: '新增成品成功',\r\n                                message: res.data.message,\r\n                                type: 'success'\r\n                            });\r\n                            self.newInventorySwitch= false;\r\n                            self.getList();\r\n                        }\r\n                    })\r\n                }else {\r\n                    return false;\r\n                }\r\n            })\r\n       },\r\n       submitFormFinishedProduct:function(formName){\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    let self = this;\r\n                    let params = {\r\n                        api:\"/product/goods/make\",\r\n                        param:{\r\n                            id:self.formFinishedProduct.name,\r\n                            makeQuantity:self.formFinishedProduct.pnum,\r\n                            materialStocks:self.formFinishedProduct.material\r\n                        }\r\n                    };\r\n                    api.postJson(params).then(function(res){\r\n                        if(res.data.code!=='1'){\r\n                             self.$alert(res.data.message, '信息提示');\r\n                        }else{\r\n                            self.$notify({\r\n                                title: '成品添加成功',\r\n                                message: res.data.message,\r\n                                type: 'success'\r\n                            });\r\n                            self.finishedProductSwitch= false;\r\n                            self.getList();\r\n                        }\r\n                    })\r\n                }else {\r\n                    return false;\r\n                }\r\n            })\r\n       },\r\n        getList:function(){\r\n            let self = this ;\r\n            let params ={\r\n                api:\"/product/goods/query\",\r\n                param:{\r\n                     pagesNum:self.cur_page\r\n                }\r\n            }   \r\n            api.post(params).then(function(res){\r\n                if(res.data.code!=='1'){\r\n                     self.$alert(res.data.message, '信息提示');\r\n                }else{\r\n                    self.inventoryData = res.data.data.goodsStocks;\r\n                    self.listNum = res.data.data.listNum;\r\n                }\r\n            })\r\n        },\r\n        getListAll:function(){\r\n            let self = this ;\r\n            let params ={\r\n                api:\"/product/goods/queryAll\",\r\n            }   \r\n            api.post(params).then(function(res){\r\n                if(res.data.code!=='1'){\r\n                     self.$alert(res.data.message, '信息提示');\r\n                }else{\r\n                    self.optionsAll = res.data.data.goodsStocks;\r\n                }\r\n            })\r\n        },\r\n        getMaterialAll:function(){\r\n            let self = this ;\r\n            let params ={\r\n                api:\"/product/material/queryAll\",\r\n            }   \r\n            api.post(params).then(function(res){\r\n                if(res.data.code!=='1'){\r\n                     self.$alert(res.data.message, '信息提示');\r\n                }else{\r\n                    self.optionsMaterial = res.data.data.materialStock;\r\n                }\r\n            })\r\n        },\r\n\r\n        delMaterial:function(item){\r\n             console.log(item,this.formFinishedProduct.material)\r\n            let index = this.formFinishedProduct.material.indexOf(item)\r\n            console.log(index)\r\n            if (index !== -1) {\r\n                this.formFinishedProduct.material.splice(index, 1)\r\n            }\r\n        },\r\n        addMaterial:function(){\r\n            this.formFinishedProduct.material.push({\r\n                id: '',\r\n                materialQuantity:''\r\n            });\r\n        },\r\n    },\r\n    computed:{\r\n    \tindexData(){\r\n    \t\tconst self = this;\r\n\t\t   \treturn self.tableData.filter(function(d){\r\n\t\t   \t\tif(d.goodsName.indexOf(self.select_word)>-1){\r\n\t\t   \t\t\treturn d;\r\n\t\t   \t\t}\r\n\t\t   \t})\r\n    \t}\r\n    },\r\n    components:{\r\n        vIselect\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped=\"\" type=\"text/css\">\r\n\t.index-warp{\r\n\t\th2{\r\n            color: red;\r\n        }\r\n        .title{\r\n            text-align: left;\r\n            font-size: 20px;\r\n\r\n        }\r\n        .menu{\r\n            float: left;\r\n            margin: 10px 0 0 40px;\r\n        }\r\n        .pagination{\r\n            text-align: right;\r\n            margin-top: 20px;\r\n        }\r\n        .InventoryTable{\r\n            margin-top: 100px;          \r\n        }\r\n        .ul-l,.pname{\r\n            display: inline-block;\r\n            text-align: left;\r\n\r\n        }\r\n        .ul-r,.pnum{\r\n            display: inline-block;\r\n            text-align: right;\r\n        }\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/page/NewInventory.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index-warp\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"成品库存\")]),_vm._v(\" \"),_c('div',{staticClass:\"menu\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.newInventory}},[_vm._v(\"添加成品\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.finishedProduct}},[_vm._v(\"制作成品\")])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加成品\",\"visible\":_vm.newInventorySwitch,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.newInventorySwitch=$event}}},[_c('el-form',{ref:\"formNewInventory\",attrs:{\"model\":_vm.formNewInventory,\"rules\":_vm.rules1}},[_c('el-form-item',{attrs:{\"prop\":\"name\",\"label\":\"成品名称\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.formNewInventory.name),callback:function ($$v) {_vm.$set(_vm.formNewInventory, \"name\", $$v)},expression:\"formNewInventory.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"unit\",\"label\":\"单位\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.formNewInventory.unit),callback:function ($$v) {_vm.$set(_vm.formNewInventory, \"unit\", $$v)},expression:\"formNewInventory.unit\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.newInventorySwitch = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitNewInventory('formNewInventory')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"成品制作页面\",\"visible\":_vm.finishedProductSwitch,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.finishedProductSwitch=$event}}},[_c('el-form',{ref:\"formFinishedProduct\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.formFinishedProduct}},[_c('el-form-item',{staticClass:\"pname\",attrs:{\"prop\":\"name\",\"label\":\"产品名称\",\"label-width\":_vm.formLabelWidth,\"rules\":[\n                    {type:'number',required: true, message: '请选择产品', trigger: 'change' }\n                ]}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择产品\"},model:{value:(_vm.formFinishedProduct.name),callback:function ($$v) {_vm.$set(_vm.formFinishedProduct, \"name\", $$v)},expression:\"formFinishedProduct.name\"}},_vm._l((_vm.optionsAll),function(item){return _c('el-option',{key:item.index,attrs:{\"label\":item.goodsName,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"pnum\",attrs:{\"prop\":\"pnum\",\"label\":\"数量\",\"label-width\":_vm.formLabelWidth,\"rules\":[\n                    { required: true, message: '请输入产品数量', trigger: 'blur' },\n                    { min: 1, max: 10, message: '长度在 1到 10 个字符', trigger: 'blur' }\n                ]}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"clearable\":\"\"},model:{value:(_vm.formFinishedProduct.pnum),callback:function ($$v) {_vm.$set(_vm.formFinishedProduct, \"pnum\", $$v)},expression:\"formFinishedProduct.pnum\"}})],1),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"ul-l\"},_vm._l((_vm.formFinishedProduct.material),function(name,index){return _c('el-form-item',{key:name.key,staticClass:\"material\",attrs:{\"label\":\"原料名称\",\"label-width\":_vm.formLabelWidth,\"prop\":'material.' + index + '.id',\"rules\":{type:'number',required: true, message: '请选择原料', trigger: 'change'},\"width\":\"50%\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择产品\"},model:{value:(name.id),callback:function ($$v) {_vm.$set(name, \"id\", $$v)},expression:\"name.id\"}},_vm._l((_vm.optionsMaterial),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.materialName,\"value\":item.id}})}))],1)})),_vm._v(\" \"),_c('div',{staticClass:\"ul-r\"},_vm._l((_vm.formFinishedProduct.material),function(num,index){return _c('el-form-item',{key:num.key,staticClass:\"materialNum\",attrs:{\"label\":\"原料数量\",\"label-width\":_vm.formLabelWidth,\"prop\":'material.' + index + '.materialQuantity',\"rules\":[\n                        { required: true, message: '请输入原料数量', trigger: 'blur' },\n                        { min: 1, max: 10, message: '长度在 1到 10 个字符', trigger: 'blur' }]}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"clearable\":\"\"},model:{value:(num.materialQuantity),callback:function ($$v) {_vm.$set(num, \"materialQuantity\", $$v)},expression:\"num.materialQuantity\"}})],1)})),_vm._v(\" \"),_c('div',{staticClass:\"ul-r\"},_vm._l((_vm.formFinishedProduct.material),function(v,index){return _c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.delMaterial(v)}}},[_vm._v(\"删除原料\")])],1)}))])],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addMaterial}},[_vm._v(\"添加原料\")]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.finishedProductSwitch = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitFormFinishedProduct('formFinishedProduct')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"indexTable\",staticClass:\"InventoryTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.inventoryData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goodsName\",\"label\":\"成品名称\",\"width\":\"250\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goodsQuantity\",\"label\":\"库存量\",\"width\":\"300\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"materialUnit\",\"label\":\"单位\",\"width\":\"260\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"materialPrice\",\"label\":\"单价\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.handleEdit(scope.row.id,scope.row.materialName,scope.row.materialQuantity,scope.row.materialPrice)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.listNum},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b5b34d4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/NewInventory.vue\n// module id = null\n// module chunks = ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.qname[data-v-c5563e76], .num[data-v-c5563e76] {\\n  text-align: left;\\n  display: inline-block;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/food_master/src/components/common/Inventoryselect.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,iBAAiB;EACjB,sBAAsB;CACvB\",\"file\":\"Inventoryselect.vue\",\"sourcesContent\":[\"\\n.qname[data-v-c5563e76], .num[data-v-c5563e76] {\\n  text-align: left;\\n  display: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c5563e76\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/common/Inventoryselect.vue\n// module id = n1Fe\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b5b34d4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./NewInventory.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"fd3b17f6\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6b5b34d4\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/page/NewInventory.vue\n// module id = xhYW\n// module chunks = 3"],"sourceRoot":""}